(this["webpackJsonpclue-unravel"]=this["webpackJsonpclue-unravel"]||[]).push([[0],{34:function(e,t,n){e.exports={historyItem:"history_historyItem__2uc_D",suggestedCard:"history_suggestedCard__2CSfd",suggestedCardNotShown:"history_suggestedCardNotShown__34ExG"}},39:function(e,t,n){e.exports={solution:"sheet_solution__7Jzbk",notSolution:"sheet_notSolution__15OAZ"}},99:function(e,t,n){"use strict";n.r(t);var a=n(2),r=(n(58),n(42),n(43),n(44),n(67),n(78),n(28),n(80),n(82),n(48),n(85),n(15),n(87),n(0)),c=n.n(r),o=n(19),i=n.n(o),s=n(10),l=n(40),u=n(23),d=n(122),h=n(118),j=(n(93),n(95),n(7)),b=n(37),f=n.n(b);function p(e,t){var n=Object(r.useState)(t),a=Object(s.a)(n,2),c=a[0],o=a[1],i=Object(r.useCallback)((function(){f.a.getItem(e).then((function(e){o(null===e?t:e)}))}),[e,t]);return Object(r.useEffect)((function(){i()}),[i]),[c,Object(r.useCallback)((function(t){f.a.setItem(e,t).then((function(){return i()}))}),[i,e])]}var O=[],m=[{name:"Cluedronken",categories:["Verdachten","Wapens","Locaties"],cards:[].concat(Object(j.a)(["Bart","Eline","Irene","Jari","Mike","Naomi"].map((function(e){return{category:0,name:e}}))),Object(j.a)(["Biertje","Flesje pino","Stinkbrie","Waakhond","Wimpers","Zweepje"].map((function(e){return{category:1,name:e}}))),Object(j.a)(["Bed","Berlijn","Club G","Friesland","Groene Ster","Hamburg","Oliveo","Strand","Ventura Toernooi"].map((function(e){return{category:2,name:e}}))))}];var g=Object(r.createContext)(null);function v(e){return Object(a.jsx)(g.Provider,{value:{customBoards:p("customBoards",m),activeGame:p("activeGame",null),gameHistory:p("gameHistory",O),currentPage:p("current-page","game")},children:e.children})}function y(){var e=Object(r.useContext)(g);if(!e)throw new Error("There was no CtxContextProvider wrapped!");return e}var x=n(120),w=n(121),C=n(12);function k(){return y().activeGame}function S(){return y().gameHistory}var A=n(30);function G(){var e=y().customBoards,t=Object(s.a)(e,1)[0];return{boards:Object(r.useMemo)((function(){return[{name:"UK edition",categories:["Characters","Weapons","Rooms"],cards:[].concat(Object(j.a)(["Miss Scarlett","Rev Green","Colonel Mustard","Professor Plum","Mrs. Peacock","Mrs. White"].map((function(e){return{category:0,name:e}}))),Object(j.a)(["Candlestick","Dagger","Lead Pipe","Revolver","Rope","Wrench"].map((function(e){return{category:1,name:e}}))),Object(j.a)(["Ballroom","Billiard Room","Conservatory","Dining Room","Hall","Kitchen","Library","Lounge","Study"].map((function(e){return{category:2,name:e}}))))},{name:"NL editie",categories:["Verdachten","Wapens","Locaties"],cards:[].concat(Object(j.a)(["Rosa Roodhart","Rev Green","Kolonel van Geelen","Professor Pimpel","Mw. Blauw van Draet","Mw. Dewit"].map((function(e){return{category:0,name:e}}))),Object(j.a)(["Kandelaar","Dolk","Loden pijp","Revolver","Touw","Loden pijp"].map((function(e){return{category:1,name:e}}))),Object(j.a)(["Balzaal","Biljartkamer","Serre","Eetkamer","Hal","Keuken","Bibliotheek","Zitkamer","Studeerkamer"].map((function(e){return{category:2,name:e}}))))}].concat(Object(j.a)(t))}),[t])}}var I=n(5),T=n(119),E=n(51),N=n(14),P=n(26),D=n(27),L=n(17),B={background:"var(--mdc-theme-primary, #6200ee)",color:"white"};function _(e){var t=e.boards,n=e.board,r=e.activeGame,c=e.setActiveGame,o=S(),i=Object(s.a)(o,2),l=i[0],u=i[1],b=n.cards.length-n.categories.length-r.publicCards.length,f=b/r.players.length;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C.a,{use:"headline6",tag:"h2",children:"Basic info"}),Object(a.jsxs)(C.a,{use:"body1",tag:"p",children:["Game created on ",new Date(r.date).toLocaleString("en-GB"),"."]}),Object(a.jsx)(T.a,{enhanced:!0,label:"Board edition",options:t.map((function(e,t){return{label:"".concat(e.name," (").concat(e.cards.length," cards)"),value:t.toString()}})),value:r.board.toString(),onChange:function(e){return c(Object(I.a)(Object(I.a)({},r),{},{board:parseInt(e.currentTarget.value,10)}))}}),Object(a.jsx)(C.a,{use:"headline6",tag:"h2",children:"Players"}),Object(a.jsx)(d.a,{nonInteractive:!0,children:r.players.map((function(e,t){return Object(a.jsxs)(h.d,{ripple:!1,children:[Object(a.jsx)(h.e,{icon:Object(a.jsx)(N.a,{size:"medium",name:e.name,style:B})}),Object(a.jsx)(E.a,{label:"Player ".concat(t+1," name"),defaultValue:e.name,onChange:function(e){var n=F(r.players);n[t].name=e.currentTarget.value,c(Object(I.a)(Object(I.a)({},r),{},{players:n}))},style:{flexGrow:1}}),Math.floor(f)!==Math.ceil(f)&&Object(a.jsx)(T.a,{options:[Math.floor(f).toString(),Math.ceil(f).toString()],value:e.cards.toString(),onChange:function(e){var n=F(r.players);n[t].cards=parseInt(e.currentTarget.value),c(Object(I.a)(Object(I.a)({},r),{},{players:n}))},rootProps:{style:{width:70}}}),Object(a.jsx)(h.f,{style:{whiteSpace:"nowrap"},children:r.players.length>1&&Object(a.jsx)(D.a,{icon:"remove",onClick:function(){var e=Object(j.a)(r.players);e.splice(t,1),c(Object(I.a)(Object(I.a)({},r),{},{players:e}))}})})]},"".concat(t).concat(r.players.length))}))}),Object(a.jsx)(P.a,{mini:!0,icon:"add",label:"Create",onClick:function(e){var t=Math.floor(b/(r.players.length+1));c(Object(I.a)(Object(I.a)({},r),{},{players:[].concat(Object(j.a)(r.players.map((function(e){return Object(I.a)(Object(I.a)({},e),{},{cards:t})}))),[{name:"",cards:t}])}))}}),Object(a.jsx)(C.a,{use:"headline6",tag:"h2",children:"Face-up cards"}),Object(a.jsx)(L.b,{choice:!0,children:n.cards.map((function(e,t){var n=r.publicCards.includes(t);return Object(a.jsx)(L.a,{label:e.name,onInteraction:function(){return c(Object(I.a)(Object(I.a)({},r),{},{publicCards:n?r.publicCards.filter((function(e){return e!==t})):[].concat(Object(j.a)(r.publicCards),[t])}))},selected:n},t)}))}),Object(a.jsx)(C.a,{use:"headline6",tag:"h2",children:"Me"}),Object(a.jsx)(T.a,{enhanced:!0,options:r.players.map((function(e,t){return{label:e.name,value:t.toString()}})),defaultValue:r.me.toString(),onChange:function(e){c(Object(I.a)(Object(I.a)({},r),{},{me:parseInt(e.currentTarget.value)}))}}),Object(a.jsx)(L.b,{choice:!0,children:n.cards.map((function(e,t){var n=r.myCards.includes(t);return Object(a.jsx)(L.a,{label:e.name,onInteraction:function(){return c(Object(I.a)(Object(I.a)({},r),{},{myCards:n?r.myCards.filter((function(e){return e!==t})):[].concat(Object(j.a)(r.myCards),[t])}))},selected:n},t)}))}),Object(a.jsx)("div",{style:{height:80},children:Object(a.jsx)(P.a,{icon:"archive",label:"Archive",style:{position:"fixed",right:16,bottom:16},onClick:function(){u([].concat(Object(j.a)(l),[r])),c(null)}})})]})}function F(e){return JSON.parse(JSON.stringify(e))}var M=n(11);function U(e){var t=k(),n=Object(s.a)(t,2),r=n[0],c=n[1],o=[].concat(Object(j.a)(e.actions),[{label:"Refresh",action:function(){document.location=document.location}}]);return Object(a.jsxs)("div",{style:{textAlign:"center"},children:[Object(a.jsxs)(C.a,{use:"headline5",tag:"h2",children:["Error while loading the ",Object(a.jsx)("em",{children:e.screen})," screen"]}),o.map((function(e,t){return Object(a.jsx)("p",{children:Object(a.jsx)(A.a,{raised:!0,label:e.label,onClick:function(){e.action({activeGame:r,setActiveGame:c})}})})}))]})}var W=n(49),R=n(38),H=n.n(R),J=H.a.mark(K);function K(){var e,t,n,a,r,c,o,i=arguments;return H.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:for(e=i.length,t=new Array(e),n=0;n<e;n++)t[n]=i[n];a=t.map((function(e){return e.length})),r=a.map((function(){return 0})),c=0;case 4:if(c){s.next=23;break}return s.next=7,r.map((function(e,n){return t[n][e]}));case 7:c=1,o=0;case 9:if(!(o<a.length)){s.next=21;break}if(r[o]+=c,!(r[o]>=a[o])){s.next=16;break}r[o]=0,c=1,s.next=18;break;case 16:return c=0,s.abrupt("break",21);case 18:o+=1,s.next=9;break;case 21:s.next=4;break;case 23:case"end":return s.stop()}}),J)}function V(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return e*t.length}),1)}function z(){return[K.apply(void 0,arguments),V.apply(void 0,arguments)]}function Z(e){return null!==e&&void 0!==typeof e}function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=Object.keys(e.players).map((function(e){return parseInt(e,10)})),c=[].concat(Object(j.a)(r),["SOLUTION"]),o=[].concat(Object(j.a)(c),["FACE_UP"]),i=[];function l(e){return n.find((function(t){return t.card===e&&!0===t.owner}))}function u(e,t){return n.find((function(n){return n.card===e&&n.player===t}))}function d(e,t,a){var r=u(e,t);return r||(r={player:t,card:e,owner:!0,reason:a},n.push(r)),r}function h(e,t,a){var r=u(e,t);return r||(r={player:t,card:e,owner:!1,reason:a},n.push(r)),r}e.myCards.forEach((function(t){d(t,e.me,"This is my card.")})),e.players[e.me].cards!==e.myCards.length&&i.push({message:"You should have ".concat(e.players[e.me].cards," cards, but you have selected ").concat(e.myCards.length," cards.")}),e.publicCards.forEach((function(e){d(e,"FACE_UP","This is a face-up card.")}));var b=Object.values(e.players).reduce((function(e,t){return e+t.cards}),0);for(e.publicCards.length!==t.cards.length-b-t.categories.length&&i.push({message:"In total, all players have ".concat(b," cards. ").concat(t.categories.length," cards are the solution. There are ").concat(t.cards.length," cards on this board, which means that ").concat(e.publicCards.length," cards should be faced-up (or the amount of cards per player should be changed).")}),e.actions.forEach((function(t){if("suggestion"===t.type){var a,c=[].concat(Object(j.a)(r),Object(j.a)(r));if(c.splice(0,c.indexOf(t.player)+1),c.splice(c.indexOf(null!==(a=t.playerDisproved)&&void 0!==a?a:t.player)),c.forEach((function(a){t.suggestedCards.forEach((function(r){var c=u(r,a);c?!0===c.owner&&i.push({message:"The user did not disprove this card when asked for it, but we already know the player owns this card.",relatedActions:[e.actions.indexOf(t)],relatedCertainties:[n.indexOf(c)]}):h(r,a,"When asked for this card, the user did not disprove.")}))})),"number"===typeof t.playerDisproved&&"number"===typeof t.card){var o=d(t.card,t.playerDisproved,"When asked for this card, the user showed this card.");!1===o.owner&&i.push({message:"The user showed this card, but we already know this user does not own this card.",relatedActions:[e.actions.indexOf(t)],relatedCertainties:[n.indexOf(o)]})}}}));;){var f=n.length;if(t.cards.forEach((function(e,t){var a=l(t);if(a)c.forEach((function(e){var r=h(t,e,"We already know who owns this card, so we also know this player does not own this card.");r.owner&&r!==a&&i.push({message:"There are two owners for the same card.",relatedCertainties:[n.indexOf(a),n.indexOf(r)]})}));else{var r=c.filter((function(e){return!u(t,e)}));if(1===r.length){var o=r[0];d(t,o,"SOLUTION"===o?"No-one has this card, so it must be the solution.":"We already know this card is not the solution and we already know that all other players do not have this card.")}else 0===r.length&&i.push({message:"This card is owned by nobody but is also not the solution.",relatedCertainties:c.map((function(e){return n.indexOf(u(t,e))}))})}})),t.categories.forEach((function(e,a){var r=t.cards.map((function(e,t){return e.category===a?{cardI:t,owner:l(t)}:null})).filter(Z),c=r.filter((function(e){var t;return"SOLUTION"===(null===(t=e.owner)||void 0===t?void 0:t.player)}));if(1===c.length)r.forEach((function(e){h(e.cardI,"SOLUTION","We already know that another card of this category is the solution, so this card can't be the solution.")}));else if(c.length>1)i.push({message:"Multiple cards of the category are not the solution, which is impossible.",relatedCertainties:c.map((function(e){return n.indexOf(e.owner)}))});else{var o=r.filter((function(e){return!e.owner||"SOLUTION"!==e.owner.player}));1===o.length?d(o[0].cardI,"SOLUTION","All other cards of this category are not the solution, so this card must be the solution."):0===o.length&&i.push({message:"All cards of the category are not the solution, which is impossible.",relatedCertainties:r.map((function(e){return n.indexOf(e.owner)}))})}})),e.actions.forEach((function(e,t){if("suggestion"===e.type&&"number"===typeof e.playerDisproved){var a=e.playerDisproved,r=e.suggestedCards.map((function(e){return{cardI:e,status:u(e,a)}})),c=r.filter((function(e){return!e.status||!0===e.status.owner}));1===c.length&&d(c[0].cardI,e.playerDisproved,"The player disproved a suggestion, and we know the other cards are not owned by this player."),0===c.length&&i.push({message:"The user disproved one of the cards, but we know that the user has none of them.",relatedActions:[t],relatedCertainties:r.map((function(e){return n.indexOf(e.status)}))})}})),e.players.forEach((function(e,a){var r=n.filter((function(e){return e.player===a&&!0===e.owner}));r.length>=e.cards&&t.cards.forEach((function(e,t){h(t,a,"We already know all cards this user has, so it cannot have this card.")})),r.length>e.cards&&i.push({message:"We know that the player has ".concat(r.length," while this player should have only ").concat(e.cards," cards."),relatedCertainties:r.map((function(e){return n.indexOf(e)}))});var c=n.filter((function(e){return e.player===a&&!1===e.owner})),o=t.cards.length-e.cards;c.length>=o&&t.cards.forEach((function(e,t){d(t,a,"We already know that this user does not have any other card, so it must have this card.")})),c.length>o&&i.push({message:"We know that the player doesn't have ".concat(c.length," cards for sure, while this player should not have ").concat(o," cards."),relatedCertainties:c.map((function(e){return n.indexOf(e)}))})})),f===n.length)break}var p=t.cards.map((function(){return Object.fromEntries(o.map((function(e){return[e,0]})))}));if(0===i.length){var O=t.cards.map((function(e,t){var n=l(t);return n?[n.player]:c.filter((function(e){return!u(t,e)}))})),m=z.apply(void 0,Object(j.a)(O)),g=Object(s.a)(m,2),v=g[0],y=g[1];if(console.log("There are ".concat(y," possibilities (unfiltered)")),y>1&&y<1e3&&a){console.time("Calculating possibilities");var x,w=0,C=Object(W.a)(v);try{for(C.s();!(x=C.n()).done;){var k=x.value,S=Y(e,t,k.map((function(e,t){return{player:e,card:t,owner:!0,reason:"Checking for possibilities"}})),!1);S.errors.length||(w+=1,k.forEach((function(e,t){p[t][e]+=1})))}}catch(A){C.e(A)}finally{C.f()}console.timeEnd("Calculating possibilities"),console.log("Out of",y,"possibilities, ",w,"were legit. Stats:"),console.table(p),p.forEach((function(e,t){var n=Object.keys(e).find((function(t){return e[t]===w}));"undefined"!==typeof n&&d(t,"SOLUTION"===n||"FACE_UP"===n?n:parseInt(n),"This is the only possibility, by going over all possibilities.")}))}}return{certainties:n,solution:n.filter((function(e){return"SOLUTION"===e.player&&!0===e.owner})).map((function(e){return e.card})),notSolution:n.filter((function(e){return"SOLUTION"!==e.player&&!0===e.owner||"SOLUTION"===e.player&&!1===e.owner})).map((function(e){return e.card})),errors:i,countPerCardPerPlayer:p}}function q(){var e=k(),t=Object(s.a)(e,1)[0],n=G().boards,a=Object(r.useMemo)((function(){return t&&Y(t,n[t.board])}),[t,n]);return Object(r.useEffect)((function(){console.log(a)}),[a]),{calculatedActiveGame:a}}var Q=Object(r.createContext)(null);function X(e){return Object(a.jsx)(Q.Provider,{value:q(),children:e.children})}function $(){var e=Object(r.useContext)(Q);if(!e)throw new Error("There was no CtxContextProvider wrapped!");return e}function ee(e){var t=e.board.cards[e.card],n=$().calculatedActiveGame,r=null===n||void 0===n?void 0:n.certainties.find((function(t){return t.card===e.card&&!0===t.owner})),c=k(),o=Object(s.a)(c,1)[0];return Object(a.jsx)(L.a,{selected:e.selected,label:t.name,icon:"SOLUTION"===(null===r||void 0===r?void 0:r.player)?Object(a.jsx)(N.a,{name:"\u2705",style:B}):"FACE_UP"===(null===r||void 0===r?void 0:r.player)?Object(a.jsx)(N.a,{name:"",style:B}):r?Object(a.jsx)(N.a,{name:(null===o||void 0===o?void 0:o.players[r.player].name)||"",style:B}):Object(a.jsx)(N.a,{name:"?"}),onInteraction:e.onInteraction})}function te(e){var t,n,r=e.board,c=e.activeGame,o=e.setActiveGame,i=null===(t=c.actions[c.actions.length-1])||void 0===t?void 0:t.player,s="number"===typeof i?(i+1)%c.players.length:0,l=c.newAction||{type:"suggestion",player:s,suggestedCards:[]};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C.a,{use:"headline6",tag:"h2",children:"Player"}),Object(a.jsx)(ne,{activeGame:c,selected:l.player,onSelect:function(e){o(Object(I.a)(Object(I.a)({},c),{},{newAction:Object(I.a)(Object(I.a)({},l),{},{player:e})}))}}),Object(a.jsxs)(C.a,{use:"caption",tag:"p",style:{textAlign:"center"},children:["Calculated player: ",c.players[s].name]}),"suggestion"===l.type&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C.a,{use:"headline6",tag:"h2",children:"Suggestion"}),r.categories.map((function(e,t){return Object(a.jsx)(L.b,{choice:!0,children:r.cards.map((function(e,n){return e.category!==t?null:Object(a.jsx)(ee,{card:n,board:r,selected:l.suggestedCards.includes(n),onInteraction:function(){o(Object(I.a)(Object(I.a)({},c),{},{newAction:Object(I.a)(Object(I.a)({},l),{},{suggestedCards:[].concat(Object(j.a)(l.suggestedCards.filter((function(e){return r.cards[e].category!==t}))),[n]).sort((function(e,t){return e-t}))})}))}},n)}))},t)})),Object(a.jsx)(C.a,{use:"headline6",tag:"h2",children:"Disproved by"}),Object(a.jsx)(ne,{activeGame:c,selected:null!==(n=l.playerDisproved)&&void 0!==n?n:l.player,onSelect:function(e){o(Object(I.a)(Object(I.a)({},c),{},{newAction:Object(I.a)(Object(I.a)({},l),{},{playerDisproved:e===l.player?void 0:e})}))}}),"undefined"===typeof l.playerDisproved&&Object(a.jsx)(C.a,{use:"caption",tag:"p",style:{textAlign:"center"},children:"This means, disproved by no-one."}),"undefined"!==typeof l.playerDisproved&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C.a,{use:"headline6",tag:"h2",children:"Card shown"}),Object(a.jsx)(L.b,{choice:!0,children:l.suggestedCards.map((function(e){return Object(a.jsx)(ee,{card:e,board:r,selected:l.card===e,onInteraction:function(){o(Object(I.a)(Object(I.a)({},c),{},{newAction:Object(I.a)(Object(I.a)({},l),{},{card:l.card===e?void 0:e})}))}})}))})]}),Object(a.jsx)("div",{style:{height:80},children:Object(a.jsx)(P.a,{icon:"add",label:"Create",style:{position:"fixed",right:16,bottom:16},onClick:function(){o(Object(I.a)(Object(I.a)({},c),{},{actions:[].concat(Object(j.a)(c.actions),[l]),newAction:void 0}))}})})]})]})}function ne(e){return Object(a.jsx)(C.a,{use:"body1",tag:"div",style:{display:"flex",justifyContent:"space-around"},children:e.activeGame.players.map((function(t,n){return Object(a.jsx)(M.a,{children:Object(a.jsx)(N.a,{size:"xlarge",name:t.name,style:e.selected===n?B:void 0,onClick:function(){return e.onSelect(n)}})},n)}))})}function ae(){return Object(a.jsx)(U,{screen:"Active game - Action",actions:[{label:"Reset the new action",action:function(e){var t=e.activeGame,n=e.setActiveGame;t?(n(Object(I.a)(Object(I.a)({},t),{},{newAction:void 0})),alert("Resetted the new action, please refresh.")):alert("No new action available")}}]})}var re=n(35),ce=n(34),oe=n.n(ce);function ie(e){var t=e.board,n=e.activeGame,r=$().calculatedActiveGame;return Object(a.jsx)(d.a,{twoLine:!0,children:n.actions.map((function(e,c){return"suggestion"===e.type?Object(a.jsx)(h.g,{className:oe.a.historyItem,graphic:Object(a.jsx)(N.a,{name:n.players[e.player].name,style:B}),text:"Suggestion - ".concat("undefined"!==typeof e.playerDisproved?"disproved by ".concat(n.players[e.playerDisproved].name).concat("undefined"!==typeof e.card?" with ".concat(t.cards[e.card].name):""):"not disproved"),secondaryText:Object(a.jsx)(a.Fragment,{children:e.suggestedCards.map((function(n){var c=!(null===r||void 0===r?void 0:r.certainties.some((function(t){var a;return t.player===(null!==(a=e.playerDisproved)&&void 0!==a?a:e.player)&&t.card===n&&!1===t.owner})));return Object(a.jsx)("div",{className:"".concat(oe.a.suggestedCard," ").concat(c?"":oe.a.suggestedCardNotShown),children:t.cards[n].name},n)}))})},c):null}))})}function se(){return Object(a.jsx)(U,{screen:"Active game - History",actions:[{label:"Remove the latest action",action:function(e){var t=e.activeGame,n=e.setActiveGame;if(null===t||void 0===t?void 0:t.actions.length){var a=Object(j.a)(t.actions);a.splice(a.length-1,1),n(Object(I.a)(Object(I.a)({},t),{},{actions:a})),alert("Removed latest action, now ".concat(a.length," actions left. Please refresh."))}else alert("No actions available.")}}]})}var le=n(13),ue=n(9),de=n(39),he=n.n(de);function je(e){var t=e.board,n=e.activeGame,c=$().calculatedActiveGame;if(!c)throw new Error("There is no calculation available.");return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(le.a,{children:Object(a.jsxs)(le.d,{children:[Object(a.jsx)(le.e,{children:Object(a.jsxs)(le.g,{children:[Object(a.jsx)(le.f,{children:"Card"}),n.players.map((function(e,t){return Object(a.jsx)(le.f,{children:Object(a.jsx)(N.a,{name:e.name,style:B})},t)}))]})}),Object(a.jsx)(le.b,{children:t.categories.map((function(e,o){return Object(a.jsxs)(r.Fragment,{children:[Object(a.jsxs)(le.g,{children:[Object(a.jsx)(le.f,{children:e}),n.players.map((function(e,t){return Object(a.jsx)(le.c,{},t)}))]}),t.cards.map((function(e,t){return e.category!==o?null:Object(a.jsxs)(le.g,{children:[Object(a.jsx)(le.c,{className:c.solution.includes(t)?he.a.solution:c.notSolution.includes(t)?he.a.notSolution:void 0,children:e.name}),n.players.map((function(e,r){var o=c.certainties.find((function(e){return e.player===r&&e.card===t}));return Object(a.jsx)(le.c,{children:!0===(null===o||void 0===o?void 0:o.owner)?Object(a.jsx)(ue.a,{icon:"check"}):!1===(null===o||void 0===o?void 0:o.owner)?Object(a.jsx)(ue.a,{icon:"close"}):n.actions.some((function(e){return"suggestion"===e.type&&e.suggestedCards.includes(t)&&e.playerDisproved===r&&"undefined"===typeof e.card}))?Object(a.jsx)(ue.a,{icon:"priority_high"}):n.actions.some((function(e){return"suggestion"===e.type&&e.suggestedCards.includes(t)&&e.player===r}))?Object(a.jsx)(ue.a,{icon:"remove"}):null},r)}))]},t)}))]},o)}))})]})})})}function be(){return Object(a.jsx)(U,{screen:"Active game - Sheet",actions:[]})}function fe(){var e=Object(r.useState)(0),t=Object(s.a)(e,2),n=t[0],c=t[1],o=k(),i=Object(s.a)(o,2),l=i[0],u=i[1],d=G().boards;if(!l)return Object(a.jsxs)("div",{style:{textAlign:"center"},children:[Object(a.jsx)(C.a,{use:"body1",tag:"p",children:"There is not a Clue game active yet."}),Object(a.jsx)(C.a,{use:"body1",children:Object(a.jsx)(A.a,{raised:!0,onClick:function(){u({date:(new Date).getTime(),board:0,players:[{name:"Me",cards:21}],me:0,myCards:[],publicCards:[],actions:[]})},children:"New game"})})]});var h=d[l.board];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(x.a,{activeTabIndex:n,onActivate:function(e){return c(e.detail.index)},children:[Object(a.jsx)(w.a,{children:"Settings"}),Object(a.jsx)(w.a,{children:"Action"}),Object(a.jsx)(w.a,{children:"History"}),Object(a.jsx)(w.a,{children:"Sheet"})]}),0===n?Object(a.jsx)(_,{boards:d,board:h,activeGame:l,setActiveGame:u}):1===n?Object(a.jsx)(re.ErrorBoundary,{FallbackComponent:ae,children:Object(a.jsx)(te,{board:h,activeGame:l,setActiveGame:u})}):2===n?Object(a.jsx)(re.ErrorBoundary,{FallbackComponent:se,children:Object(a.jsx)(ie,{board:h,activeGame:l,setActiveGame:u})}):3===n?Object(a.jsx)(re.ErrorBoundary,{FallbackComponent:be,children:Object(a.jsx)(je,{board:h,activeGame:l,setActiveGame:u})}):null]})}function pe(){var e=S(),t=Object(s.a)(e,2),n=t[0],r=t[1],c=k(),o=Object(s.a)(c,2),i=o[0],l=o[1];return Object(a.jsx)(d.a,{twoLine:!0,children:(i?[].concat(Object(j.a)(n),[i]):n).sort((function(e,t){return t.date-e.date})).map((function(e,t){return Object(a.jsx)(h.g,{text:"".concat(new Date(e.date).toString()),secondaryText:"Actions: ".concat(e.actions.length," | Players: ").concat(e.players.map((function(e){return e.name})).join(", ")),activated:e===i,onClick:function(){e!==i&&(r(i?[].concat(Object(j.a)(n.filter((function(t){return t!==e}))),[i]):n.filter((function(t){return t!==e}))),l(e))}},t+e.date)}))})}var Oe=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],o=y().currentPage,i=Object(s.a)(o,2),j=i[0],b=i[1];function f(e){return function(){b(e),c(!1)}}return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(u.a,{modal:!0,open:n,onClose:function(){return c(!1)},children:[Object(a.jsxs)(u.c,{children:[Object(a.jsx)(u.e,{children:"Clue Unravel"}),Object(a.jsx)(u.d,{children:"Made with &heart; by Bart"})]}),Object(a.jsx)(u.b,{children:Object(a.jsxs)(d.a,{children:[Object(a.jsx)(h.g,{activated:"game"===j,text:"Active game",onClick:f("game")}),Object(a.jsx)(h.g,{activated:"games"===j,text:"Game history",onClick:f("games")})]})})]}),Object(a.jsx)(l.a,{title:"game"===j?"Active game":"games"===j?"Game history":"Clue Unravel",navigationIcon:!0,onNav:function(){return c(!0)}}),Object(a.jsx)(l.b,{}),"game"===j&&Object(a.jsx)(fe,{}),"games"===j&&Object(a.jsx)(pe,{})]})};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(v,{children:Object(a.jsx)(X,{children:Object(a.jsx)(Oe,{})})})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.0016f4de.chunk.js.map